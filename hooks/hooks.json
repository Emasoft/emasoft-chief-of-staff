{
  "description": "Chief of Staff hooks - agent lifecycle management, resource monitoring, and session coordination",
  "_note": "Hook data is passed via stdin as JSON. Scripts read from stdin, not env vars.",
  "hooks": {
    "SessionStart": [
      {
        "_id": "ecos-session-start",
        "_description": "Load session memory, initialize agent tracking, check system resources",
        "hooks": [
          {
            "type": "command",
            "command": "python3 ${CLAUDE_PLUGIN_ROOT}/scripts/ecos_session_start.py"
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "_id": "ecos-session-end",
        "_description": "Save session memory and context on exit",
        "hooks": [
          {
            "type": "command",
            "command": "python3 ${CLAUDE_PLUGIN_ROOT}/scripts/ecos_session_end.py"
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "_id": "ecos-resource-check",
        "_description": "Check system resources before processing user prompt",
        "hooks": [
          {
            "type": "command",
            "command": "python3 ${CLAUDE_PLUGIN_ROOT}/scripts/ecos_resource_check.py",
            "timeout": 5
          }
        ]
      },
      {
        "_id": "ecos-heartbeat-check",
        "_description": "Check heartbeat status of all active agents before processing",
        "hooks": [
          {
            "type": "command",
            "command": "python3 ${CLAUDE_PLUGIN_ROOT}/scripts/ecos_heartbeat_check.py",
            "timeout": 5
          }
        ]
      }
    ],
    "Stop": [
      {
        "_id": "ecos-stop-check",
        "_description": "Blocks exit until all coordination work is complete and handoffs are saved",
        "hooks": [
          {
            "type": "command",
            "command": "python3 ${CLAUDE_PLUGIN_ROOT}/scripts/ecos_stop_check.py"
          }
        ]
      }
    ]
  }
}
